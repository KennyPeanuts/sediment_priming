setwd("~/current_research/sediment_priming/lab_notebook")
erg <- read.table("./data/leaf_ergosterol.csv", header = T, sep = ",")
init_om <- read.table("data/inital_om.csv", header = T, sep = ",")
cn <- read.table("data/leaf_disc_CN.csv", header = T, sep = ",")
### Calculation
#### Fungal Mass
Using these estimates we can estimate the fungal dry mass (mg) on the leaves as:
fungal_mass <- (1 / 5) * erg$Erg_per_leaf # 1 mg fungal mass / 5 ug ergosterl mass
#### Fungal C and N Mass
The carbon mass (mg) of the fungi on the leaves would be:
fungal_C_mass <- fungal_mass * 0.43
The nitrogen mass (mg) of the fungi on the leaves would be:
fungal_N_mass <- fungal_mass * 0.065
~~~~
tapply(fungal_N_mass, erg$Position, summary)
tapply(fungal_N_mass, erg$Position, sd)
~~~~
tapply(fungal_N_mass, erg$Position, summary)
date()
~~~~
tapply(fungal_N_mass, erg$Position, summary)
~~~~
tapply(fungal_N_mass, erg$Position, summary)
~~~~
tapply(fungal_C_mass, erg$Position, summary)
~~~~
# Fungal C Mass per Leaf (mg)
tapply(fungal_C_mass, erg$Position, summary)
~~~~
# Fungal C Mass per Leaf (mg)
tapply(fungal_C_mass, erg$Position, summary)
tapply(fungal_C_mass, erg$Position, sd)
~~~~
# Fungal C Mass per Leaf (mg)
tapply(fungal_C_mass, erg$Position, summary)
~~~~
# Fungal C Mass per Leaf (mg)
tapply(fungal_C_mass, erg$Position, summary)
tapply(fungal_mass, erg$Position, summary)
~~~~
# Fungal C Mass per Leaf (mg)
tapply(fungal_C_mass, erg$Position, summary)
tapply(fungal_C_mass, erg$Position, length)
tapply(fungal_C_mass, erg$Position, mean)
tapply(fungal_C_mass, erg$Position, summary)
~~~~
# Fungal C Mass per Leaf (mg)
tapply(fungal_C_mass, erg$Position, summary)
tapply(fungal_N_mass, erg$Position, summary)
tapply(fungal_N_mass, erg$Position, sd)
tapply(fungal_mass, erg$Position, summary)
tapply(fungal_mass, erg$Position, sd)
~~~~
tapply(fungal_C_mass, erg$Position, summary)
~~~~
tapply(fungal_C_mass, erg$Position, summary)
~~~~
tapply(fungal_C_mass, erg$Position, summary)
tapply(fungal_mass, erg$Position, summary)
~~~~
tapply(fungal_C_mass, erg$Position, summary)
tapply(fungal_C_mass, erg$Position, sd)
tapply(fungal_C_mass, erg$Position, summary)
~~~~
tapply(fungal_C_mass, erg$Position, summary)
tapply(fungal_C_mass, erg$Position, sd)
tapply(fungal_C_mass, erg$Position, summary)
~~~~
tapply(fungal_N_mass, erg$Position, summary)
tapply(fungal_N_mass, erg$Position, sd)
tapply(fungal_N_mass, erg$Position, summary)
leaf.initial <- read.table("./data/inital_om.csv", header = T, sep = ",")
leaf.final <- read.table("./data/final_AFDM.csv", header = T, sep = ",")
cn <- read.table("data/leaf_disc_CN.csv", header = T, sep = ",")
init_om <- read.table("data/inital_om.csv", header = T, sep = ",")
init.leaf.mass <- leaf.initial$om.mass[leaf.initial$sample == "leaf"]
sing.init.leaf.mass <- init.leaf.mass / leaf.initial$leaf.num[leaf.initial$sample == "leaf"]
mean.init.mass <- mean(sing.init.leaf.mass)
rep <- c("A", "B")
percC <- c(45.8, 44.47)
percN <- c(0.94, 1.03)
CN <- c(56.47032605, 50.39153614)
initial_cn <- data.frame(rep, percC, percN, CN)
~~~~
### Determine Average Final AFDM
final.DM <- leaf.final$CrucLeafDM - leaf.final$CrucMass
final.AM <- leaf.final$CrucAM - leaf.final$CrucMass
final.AFDM <- final.DM - final.AM
Since there were different numbers of leaves in the crucibles `final.AFDM` is the mass of the total leaves in the crucible
final.leaf.AFDM <- final.AFDM / leaf.final$LeafNum
~~~~
### Determine Average Final AFDM
final.DM <- leaf.final$CrucLeafDM - leaf.final$CrucMass
final.DM <- leaf.final$CrucLeafDM - leaf.final$CrucMass
final.DM <- leaf.final$CrucLeafDM - leaf.final$CrucMass
final.AM <- leaf.final$CrucAM - leaf.final$CrucMass
final.AFDM <- final.DM - final.AM
final.leaf.AFDM <- final.AFDM / leaf.final$LeafNum
tapply(final.leaf.AFDM * 1000, leaf.final$Position, summary)
~~~~
###  Determine Mass Lost
AFDM.loss <- mean.init.mass - final.leaf.AFDM
AFDM.loss <- mean.init.mass - final.leaf.AFDM
loss.diff <- AFDM.loss[leaf.final$Position == "Sed"] - AFDM.loss[leaf.final$Position == "Top"]
cn.position <- c(rep("top", 10), rep("sed", 10))
I now calculate mass of C for each treatment level:
disc_C_mass_final_TOP <- leaf.final$AFDM[leaf.final$Position == "Top"] * ((cn$percC[cn.position == "top"]) / 100) # convert to proportion
disc_C_mass_final_SED <- leaf.final$AFDM[leaf.final$Position == "Sed"] * ((cn$percC[cn.position == "sed"]) / 100)
disc_C_mass_final <- c(disc_C_mass_final_TOP, disc_C_mass_final_SED) * 1000 # convert to mg
disc_mass_init <- (init_om$om.mass[init_om$sample == "leaf"] / init_om$leaf.num[init_om$sample == "leaf"]) * 1000 # converted to mg
disc_C_mass_init <- disc_mass_init * 0.45 # the % C of the leaves prior to incubation rounded up from the mean % C of the intial leaf % C in the leached litter exp.
~~~~
disc_mass_init <- (init_om$om.mass[init_om$sample == "leaf"] / init_om$leaf.num[init_om$sample == "leaf"]) * 1000 # converted to mg
disc_mass_init <- (init_om$om.mass[init_om$sample == "leaf"] / init_om$leaf.num[init_om$sample == "leaf"]) * 1000 # converted to mg
init_propC <- mean(initial_cn$percC) / 100 # calculates the mean initial proportion of C
disc_C_mass_init <- disc_mass_init * init_propC
~~~~
#### Change in C Mass During Incubation
delta_C_mass <- mean(disc_C_mass_init) - disc_C_mass_final
delta_C_mass <- mean(disc_C_mass_init) - disc_C_mass_final
disc_N_mass_final_TOP <- leaf.final$AFDM[leaf.final$Position == "Top"] * ((cn$percN[cn.position == "top"]) / 100) # convert to proportion
disc_N_mass_final_SED <- leaf.final$AFDM[leaf.final$Position == "Sed"] * ((cn$percN[cn.position == "sed"]) / 100)
disc_N_mass_final <- c(disc_N_mass_final_TOP, disc_N_mass_final_SED) * 1000 # convert to mg
disc_N_mass_init <- disc_mass_init * mean(initial_cn$percN / 100)
delta_N_mass <- mean(disc_N_mass_init) - disc_N_mass_final
perc_fungal_N <- (fungal_N_mass / disc_N_mass_final) * 100
tapply(perc_fungal_N, erg$Position, summary)
tapply(perc_fungal_C, erg$Position, sd)
tapply(perc_fungal_N, erg$Position, sd)
~~~~
## Test of % Fungal Carbon by Position
t.test(perc_fungal_N ~ erg$Position)
t.test(perc_fungal_N ~ erg$Position)
par(las = 1)
plot(perc_fungal_N ~ erg$Position, ylim = c(0, 50), ylab = "Percent of Final Leaf N Mass in Fungal C", xlab = "", col = 8, axes = F)
axis(2)
axis(1, c("Sediment Contact", "No Sediment Contact"), at = c(1, 2))
text(1, mean(perc_fungal_C[erg$Position == "Sed"]), "*", cex = 2)
text(2, mean(perc_fungal_C[erg$Position == "Top"]), "*", cex = 2)
box()
text(1, mean(perc_fungal_N[erg$Position == "Sed"]), "*", cex = 2)
text(2, mean(perc_fungal_N[erg$Position == "Top"]), "*", cex = 2)
par(las = 1)
plot(perc_fungal_N ~ erg$Position, ylim = c(0, 50), ylab = "Percent of Final Leaf N Mass in Fungal C", xlab = "", col = 8, axes = F)
axis(2)
axis(1, c("Sediment Contact", "No Sediment Contact"), at = c(1, 2))
text(1, mean(perc_fungal_N[erg$Position == "Sed"]), "*", cex = 2)
text(2, mean(perc_fungal_N[erg$Position == "Top"]), "*", cex = 2)
box()
par(las = 1)
plot(perc_fungal_N ~ erg$Position, ylim = c(0, 50), ylab = "Percent of Final Leaf N Mass in Fungal C", xlab = "", col = 8, axes = F)
axis(2)
axis(1, c("Sediment Contact", "No Sediment Contact"), at = c(1, 2))
text(1, mean(perc_fungal_N[erg$Position == "Sed"]), "*", cex = 2)
text(2, mean(perc_fungal_N[erg$Position == "Top"]), "*", cex = 2)
box()
dev.copy(jpeg, "./output/plots/percent_fungal_N_mass.jpg")
dev.off()
q()
